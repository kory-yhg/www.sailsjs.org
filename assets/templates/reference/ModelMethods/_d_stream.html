<h1 id="-stream-criteria-">.stream( <code>criteria</code> )</h1>
<h3 id="purpose">Purpose</h3>
<p>This method uses a &lt;a href=&quot;http://nodejs.org/api/stream.html&quot;&gt;node write stream&lt;/a&gt; to pipe model data as it is retrieved without first having to buffer all of the results to memory.  </p>
<h3 id="overview">Overview</h3>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th></th>
<th>Description</th>
<th>Accepted Data Types</th>
<th>Required ?</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Find Criteria</td>
<td><code>{}</code>,<code>[{}]</code>, <code>string</code>, <code>int</code></td>
<td>Yes</td>
</tr>
<tr>
<td>2</td>
<td>Custom Write/End Methods</td>
<td><code>{}</code></td>
<td>No</td>
</tr>
</tbody>
</table>
<h4 id="returned">Returned</h4>
<table>
<thead>
<tr>
<th></th>
<th>Description</th>
<th>Possible Data Types</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Error</td>
<td><code>Error</code></td>
</tr>
<tr>
<td>2</td>
<td>Stream of Records</td>
<td><code>stream</code></td>
</tr>
</tbody>
</table>
<h3 id="example-usage">Example Usage</h3>
<p>UsersController.js</p>
<pre><code class="lang-javascript">module.exports = {

  testStream: function(req,res){

    if (req.param(&#39;startStream&#39;) &amp;&amp; req.isSocket){

        var getSocket = req.socket;

        // Start the stream.  Pipe it to sockets.
        User.stream({name:&#39;Walter&#39;}).pipe(getSocket.emit);

    } else {

      res.view();

    }


  }
}
`</code></pre>
<p>views/users/testSocket.ejs</p>
<pre><code class="lang-javascript">&lt;script type=&quot;text/javascript&quot;&gt;
window.onload = function startListening(){
    socket.on(&#39;gotUser&#39;,function(data){
      console.log(data.name+&#39; number &#39;+data.id+&#39; has joined the party&#39;);
    });
};

&lt;/script&gt;
&lt;div class=&quot;addButton&quot; onClick=&quot;socket.get(&#39;/users/testStream/&#39;,{startStream:true})&quot;&gt;Stream all the Users !&lt;/div&gt;</code></pre>
<h3 id="notes">Notes</h3>
<blockquote>
<p>This method is useful for piping data from VERY large models straight to res.  You can also pipe it other places.  See the node stream docs for more info.<br>Only the mongo, mysql, and posgresql adapters support this method.  This won&#39;t work with the disk adapter.<br>Any string arguments passed must be the ID of the record.</p>
</blockquote>
