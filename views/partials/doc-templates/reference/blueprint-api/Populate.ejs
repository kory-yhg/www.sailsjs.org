<h1>Populate Where...</h1>
<p>指定されたアソシエーションが複数(&quot;collection&quot;)の時、このアクションは関連付けられたレコードのリストをJSONオブジェクトの配列として返します。指定されたアソシエーションが一つ(&quot;model&quot;)の時、このアクションは関連付けられたレコードのJSONオブジェクトを返します。</p>
<pre><code>GET /:model/:record/:association</code></pre>
<h3>例</h3>
<p>購入#47に関わった<code>cashier</code>を取得する。</p>
<p><strong><a href="http://jquery.com/">jQuery</a>を使う:</strong></p>
<pre><code class="language-javascript">$.get('/purchase/47/cashier', function (purchase) {
  console.log(purchase);
});</code></pre>
<p><strong><a href="https://angularjs.org/">Angular</a>を使う:</strong></p>
<pre><code class="language-javascript">$http.get('/purchase/47/cashier')
.then(function (purchase) {
  console.log(purchase);
});</code></pre>
<p><strong><a href="http://sailsjs.jp/documentation/reference/websockets/sails.io.js">sails.io.js</a>を使う:</strong></p>
<pre><code class="language-javascript">io.socket.get('/purchase/47/cashier', function (purchase) {
  console.log(purchase);
});</code></pre>
<p><strong><a href="http://en.wikipedia.org/wiki/CURL">cURL</a>を使う:</strong></p>
<pre><code class="language-bash">curl http://localhost:1337/purchase/47/cashier</code></pre>
<p>以下のように返ってくるはずです:</p>
<pre><code class="language-json">{
  "amount": 99.99,
  "id": 47,
  "cashier": {
    "name": "Dolly",
    "id": 7,
    "createdAt": "2012-05-14T01:21:05.000Z",
    "updatedAt": "2013-01-15T01:18:40.000Z"
  },
  "createdAt": "2013-10-14T01:22:00.000Z",
  "updatedAt": "2013-10-15T01:20:54.000Z"
}
</code></pre>
<h3>備考</h3>
<blockquote>
<ul>
<li>
<p>上記の例では&quot;rest&quot;blueprintが有効であると仮定します。それに加えてあなたのプロジェクトが少なくともアソシエーション<code>involvedInPurchases: {collection: 'Purchase', via: 'cashier'}</code>を持った'Employee'モデルとアソシエーション<code>cashier: {model: 'Employee'}</code>を持った<code>Purchase</code>モデルを持っているべきです。 同様に空の<code>PurchaseController</code>と<code>EmployeeController</code>も必要です。これを簡単に行うには以下を実行します:</p>
<pre><code class="language-shell">$ sails new foo
$ cd foo
$ sails generate api purchase
$ sails generate api employee</code></pre>
<p>...then editing <code>api/models/Purchase.js</code>.</p>
</li>
</ul>
</blockquote>
<docmeta name="uniqueID" value="Populate838372">
<docmeta name="displayName" value="populate where">